<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swayam Khangaonkar | Portfolio</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">

    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        :root {
            --primary: #6366f1;
            --secondary: #a855f7;
            --dark: #0f172a;
        }
        
        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--dark);
            color: white;
            overflow-x: hidden;
        }

        /* FORCE HIDE until animation is done */
        .hidden-force {
            display: none !important;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #4f46e5; border-radius: 4px; }

        /* --- ANIMATION STYLES --- */
        #loading-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            z-index: 9999;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
        }

        .stars { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; animation: moveStar linear infinite; }
        @keyframes moveStar { from { transform: translateY(-10vh); opacity: 0; } to { transform: translateY(110vh); opacity: 0; } 10%, 90% { opacity: 1; } }

        .rocket-container { position: relative; z-index: 10; margin-bottom: 2rem; transition: transform 0.3s ease; }
        .rocket-icon { font-size: 100px; color: white; filter: drop-shadow(0 0 15px rgba(99, 102, 241, 0.5)); transform: rotate(-45deg); }
        .rocket-flame { position: absolute; bottom: -30px; left: 50%; transform: translateX(-50%); width: 20px; height: 40px; background: linear-gradient(to bottom, #ffcc00, #ff3300, transparent); border-radius: 50% 50% 20% 20%; filter: blur(5px); animation: flame-flicker 0.1s infinite; opacity: 0; transition: opacity 0.5s; }
        
        .launching .rocket-icon { transform: translateY(-150vh) rotate(-45deg); transition: transform 1.5s cubic-bezier(0.55, 0.055, 0.675, 0.19); }
        .launching .rocket-flame { opacity: 1; height: 100px; }

        @keyframes flame-flicker { 0%, 100% { height: 40px; transform: translateX(-50%) scale(1); } 50% { height: 50px; transform: translateX(-50%) scale(1.1); } }

        .progress-wrapper { width: 300px; position: relative; z-index: 10; }
        .loading-bar-bg { width: 100%; height: 6px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; margin-top: 20px; }
        .loading-bar-fill { height: 100%; background: linear-gradient(90deg, #4f46e5, #a855f7); width: 0%; box-shadow: 0 0 20px rgba(168, 85, 247, 0.6); }

        .white-flash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; opacity: 0; pointer-events: none; z-index: 10000; transition: opacity 0.1s ease; }

        /* Glassmorphism */
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        
        /* Carousel */
        .carousel-container { position: relative; width: 100%; height: 300px; background: #000; display: flex; align-items: center; justify-content: center; border-radius: 0.5rem; overflow: hidden; margin-bottom: 1rem; }
        .carousel-img { max-width: 100%; max-height: 100%; object-fit: contain; }
        
        /* Blur Animation */
        .animate-blob { animation: blob 7s infinite; }
        @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
    </style>
</head>
<body>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="stars" id="starfield"></div>
        <div class="rocket-container">
            <i class="fas fa-rocket rocket-icon"></i>
            <div class="rocket-flame"></div>
        </div>
        <div class="progress-wrapper">
            <div class="flex justify-between text-xs text-indigo-300 font-mono mb-1">
                <span>SYSTEM CHECK</span>
                <span id="status-text">INITIALIZING...</span>
            </div>
            <div class="loading-bar-bg">
                <div id="loading-bar" class="loading-bar-fill"></div>
            </div>
        </div>
    </div>
    
    <div id="white-flash" class="white-flash"></div>

    <!-- Main Application -->
    <div id="app" class="hidden-force">
        
        <!-- Navigation -->
        <nav class="fixed top-0 w-full z-50 glass">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center cursor-pointer" onclick="router('home')">
                        <span class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-600 tracking-tighter">showcase.com</span>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <button onclick="router('home')" class="hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition">Home</button>
                            <button onclick="router('education')" class="hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition">Education</button>
                            <button onclick="router('projects')" class="hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition">Projects</button>
                            <button onclick="router('hackathons')" class="hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition">Hackathons</button>
                            <button onclick="router('certificates')" class="hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition">Certificates</button>
                            <button onclick="router('about')" class="hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition">About Me</button>
                            <button onclick="router('admin')" id="nav-admin-btn" class="bg-gray-800 hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition border border-gray-600">Admin</button>
                        </div>
                    </div>
                    <!-- Mobile menu button -->
                    <div class="-mr-2 flex md:hidden">
                        <button onclick="toggleMobileMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none">
                            <i class="fas fa-bars"></i>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div class="md:hidden hidden bg-gray-900" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <button onclick="router('home')" class="block w-full text-left hover:text-indigo-400 px-3 py-2 rounded-md text-base font-medium">Home</button>
                    <button onclick="router('education')" class="block w-full text-left hover:text-indigo-400 px-3 py-2 rounded-md text-base font-medium">Education</button>
                    <button onclick="router('projects')" class="block w-full text-left hover:text-indigo-400 px-3 py-2 rounded-md text-base font-medium">Projects</button>
                    <button onclick="router('hackathons')" class="block w-full text-left hover:text-indigo-400 px-3 py-2 rounded-md text-base font-medium">Hackathons</button>
                    <button onclick="router('certificates')" class="block w-full text-left hover:text-indigo-400 px-3 py-2 rounded-md text-base font-medium">Certificates</button>
                    <button onclick="router('about')" class="block w-full text-left hover:text-indigo-400 px-3 py-2 rounded-md text-base font-medium">About Me</button>
                    <button onclick="router('admin')" class="block w-full text-left text-red-400 hover:text-red-300 px-3 py-2 rounded-md text-base font-medium">Admin Panel</button>
                </div>
            </div>
        </nav>

        <!-- Content Container -->
        <main class="pt-16 min-h-screen">
            
            <!-- HOME SECTION -->
            <section id="home-view" class="view-section min-h-screen flex items-center justify-center relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-10 opacity-20">
                    <div class="absolute top-10 left-10 w-72 h-72 bg-purple-600 rounded-full mix-blend-multiply filter blur-xl animate-blob"></div>
                    <div class="absolute top-10 right-10 w-72 h-72 bg-indigo-600 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000"></div>
                    <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pink-600 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-4000"></div>
                </div>
                <div class="text-center px-4 z-10">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight mb-4">
                        Hi. I'm <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-600">Swayam Khangaonkar</span>
                    </h1>
                    <p class="text-xl md:text-2xl text-gray-300 mb-8 font-light animate-pulse">Welcome to my portfolio website</p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="router('projects')" class="px-8 py-3 bg-indigo-600 hover:bg-indigo-700 rounded-full font-bold transition transform hover:scale-105 shadow-lg shadow-indigo-500/50">
                            View My Work
                        </button>
                        <button onclick="downloadResume()" class="px-8 py-3 bg-transparent border-2 border-white hover:bg-white hover:text-black rounded-full font-bold transition transform hover:scale-105 flex items-center justify-center gap-2">
                            <i class="fas fa-file-pdf"></i> Download Resume
                        </button>
                    </div>
                </div>
            </section>

            <!-- EDUCATION SECTION -->
            <section id="education-view" class="view-section hidden-force max-w-7xl mx-auto px-4 py-12">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-4xl font-bold border-l-4 border-indigo-500 pl-4">Education</h2>
                </div>
                <div id="education-list" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="col-span-full text-center text-gray-500 py-10">No education added yet.</div>
                </div>
            </section>

            <!-- PROJECTS SECTION -->
            <section id="projects-view" class="view-section hidden-force max-w-7xl mx-auto px-4 py-12">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                    <h2 class="text-4xl font-bold border-l-4 border-indigo-500 pl-4">Projects</h2>
                    <div class="flex gap-2 w-full md:w-auto">
                        <div class="relative flex-grow md:flex-grow-0">
                            <input type="text" id="search-projects" placeholder="Search..." class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500">
                            <i class="fas fa-search absolute right-3 top-3 text-gray-500"></i>
                        </div>
                        <button onclick="toggleFilter('project-filter-modal')" class="bg-gray-800 px-4 py-2 rounded-lg hover:bg-gray-700"><i class="fas fa-filter"></i></button>
                    </div>
                </div>
                <div id="projects-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </section>

            <!-- HACKATHONS SECTION -->
            <section id="hackathons-view" class="view-section hidden-force max-w-7xl mx-auto px-4 py-12">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                    <h2 class="text-4xl font-bold border-l-4 border-indigo-500 pl-4">Hackathons</h2>
                    <div class="flex gap-2 w-full md:w-auto">
                        <div class="relative flex-grow md:flex-grow-0">
                            <input type="text" id="search-hackathons" placeholder="Search..." class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500">
                            <i class="fas fa-search absolute right-3 top-3 text-gray-500"></i>
                        </div>
                        <button onclick="toggleFilter('hackathon-filter-modal')" class="bg-gray-800 px-4 py-2 rounded-lg hover:bg-gray-700"><i class="fas fa-filter"></i></button>
                    </div>
                </div>
                <div id="hackathons-list" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
            </section>

            <!-- CERTIFICATES SECTION -->
            <section id="certificates-view" class="view-section hidden-force max-w-7xl mx-auto px-4 py-12">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                    <h2 class="text-4xl font-bold border-l-4 border-indigo-500 pl-4">Certificates</h2>
                    <div class="flex gap-2 w-full md:w-auto">
                         <div class="relative flex-grow md:flex-grow-0">
                            <input type="text" id="search-certificates" placeholder="Search..." class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500">
                            <i class="fas fa-search absolute right-3 top-3 text-gray-500"></i>
                        </div>
                    </div>
                </div>
                <div id="certificates-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
            </section>

            <!-- ABOUT ME SECTION -->
            <section id="about-view" class="view-section hidden-force max-w-7xl mx-auto px-4 py-12">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-4xl font-bold border-l-4 border-indigo-500 pl-4">About Me</h2>
                </div>
                <div class="glass rounded-2xl p-8 md:p-12 flex flex-col md:flex-row items-center gap-12">
                    <div class="w-full md:w-1/3 flex justify-center">
                        <div class="relative w-64 h-64 rounded-full overflow-hidden border-4 border-indigo-500 shadow-2xl">
                            <img id="about-img" src="https://via.placeholder.com/300" alt="Swayam" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="w-full md:w-2/3">
                        <h3 class="text-2xl font-bold mb-4 text-indigo-400">Swayam Khangaonkar</h3>
                        <p id="about-text" class="text-gray-300 leading-relaxed text-lg whitespace-pre-line">
                            Loading profile...
                        </p>
                    </div>
                </div>
            </section>

            <!-- ADMIN LOGIN & DASHBOARD -->
            <section id="admin-view" class="view-section hidden-force max-w-7xl mx-auto px-4 py-12">
                <!-- Login Form -->
                <div id="login-form" class="max-w-md mx-auto glass p-8 rounded-xl shadow-2xl mt-20">
                    <h2 class="text-2xl font-bold mb-6 text-center">Admin Login</h2>
                    <input type="text" id="admin-user" placeholder="Username" class="w-full bg-gray-900 border border-gray-700 p-3 rounded mb-4 focus:border-indigo-500 outline-none">
                    <input type="password" id="admin-pass" placeholder="Password" class="w-full bg-gray-900 border border-gray-700 p-3 rounded mb-6 focus:border-indigo-500 outline-none">
                    <button onclick="adminLogin()" class="w-full bg-indigo-600 hover:bg-indigo-700 py-3 rounded font-bold transition">Login</button>
                </div>

                <!-- Admin Dashboard -->
                <div id="admin-dashboard" class="hidden-force">
                    <div class="flex justify-between items-center mb-8">
                        <h2 class="text-3xl font-bold">Admin Dashboard</h2>
                        <button onclick="adminLogout()" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700">Logout</button>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="glass p-6 rounded-xl lg:col-span-1">
                            <h3 class="text-xl font-bold mb-4 text-indigo-400">Session Logs</h3>
                            <div class="overflow-y-auto h-96 custom-scrollbar">
                                <table class="w-full text-sm text-left">
                                    <thead class="text-gray-400 uppercase border-b border-gray-700">
                                        <tr><th class="py-3">Time</th><th class="py-3">Platform</th></tr>
                                    </thead>
                                    <tbody id="visitor-log-body" class="text-gray-300"></tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="glass p-6 rounded-xl lg:col-span-2">
                            <h3 class="text-xl font-bold mb-4 text-indigo-400">Content Management</h3>
                            <p class="text-gray-400 mb-4 text-sm">Select a category to Add, Edit, or Delete content.</p>
                            
                            <div class="flex space-x-2 mb-6 overflow-x-auto pb-2">
                                <button onclick="renderAdminList('education')" class="px-4 py-2 bg-gray-800 hover:bg-indigo-600 rounded text-sm whitespace-nowrap transition">Education</button>
                                <button onclick="renderAdminList('projects')" class="px-4 py-2 bg-gray-800 hover:bg-indigo-600 rounded text-sm whitespace-nowrap transition">Projects</button>
                                <button onclick="renderAdminList('hackathons')" class="px-4 py-2 bg-gray-800 hover:bg-indigo-600 rounded text-sm whitespace-nowrap transition">Hackathons</button>
                                <button onclick="renderAdminList('certificates')" class="px-4 py-2 bg-gray-800 hover:bg-indigo-600 rounded text-sm whitespace-nowrap transition">Certificates</button>
                                <button onclick="openEditor('about')" class="px-4 py-2 bg-blue-700 hover:bg-blue-600 rounded text-sm whitespace-nowrap transition">Edit About</button>
                            </div>

                            <div id="admin-list-area" class="space-y-4"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FOOTER -->
            <footer class="bg-black py-12 border-t border-gray-800 mt-12">
                <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-white">Quick Links</h3>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="router('home')" class="text-left text-gray-400 hover:text-white transition">Home</button>
                            <button onclick="router('education')" class="text-left text-gray-400 hover:text-white transition">Education</button>
                            <button onclick="router('projects')" class="text-left text-gray-400 hover:text-white transition">Projects</button>
                            <button onclick="router('hackathons')" class="text-left text-gray-400 hover:text-white transition">Hackathons</button>
                            <button onclick="router('certificates')" class="text-left text-gray-400 hover:text-white transition">Certificates</button>
                            <button onclick="router('about')" class="text-left text-gray-400 hover:text-white transition">About Me</button>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-white">Connect with me</h3>
                        <div class="flex space-x-6">
                            <a href="https://instagram.com/kswayammmm" target="_blank" class="text-3xl text-gray-400 hover:text-pink-500 transition transform hover:scale-110"><i class="fab fa-instagram"></i></a>
                            <a href="https://www.linkedin.com/in/swayam-khangaonkar-227bab345" target="_blank" class="text-3xl text-gray-400 hover:text-blue-500 transition transform hover:scale-110"><i class="fab fa-linkedin"></i></a>
                            <a href="https://x.com" target="_blank" class="text-3xl text-gray-400 hover:text-white transition transform hover:scale-110"><i class="fab fa-twitter"></i></a>
                            <span class="text-3xl text-gray-400 hover:text-green-500 transition transform hover:scale-110 cursor-pointer"><i class="fab fa-whatsapp"></i></span>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-12 text-gray-600 text-sm">
                    &copy; 2025 Swayam Khangaonkar. All Rights Reserved.
                </div>
            </footer>

        </main>

        <!-- MODALS -->
        <div id="project-filter-modal" class="fixed inset-0 bg-black bg-opacity-90 hidden-force z-50 flex items-center justify-center">
            <div class="bg-gray-900 p-6 rounded-xl w-80 border border-gray-700">
                <h3 class="text-xl font-bold mb-4">Filter Projects</h3>
                <div class="space-y-2">
                    <label class="flex items-center space-x-2"><input type="checkbox" class="form-checkbox" value="AI" onchange="applyProjectFilter()"> <span>AI / ML</span></label>
                    <label class="flex items-center space-x-2"><input type="checkbox" class="form-checkbox" value="Blockchain" onchange="applyProjectFilter()"> <span>Blockchain</span></label>
                    <label class="flex items-center space-x-2"><input type="checkbox" class="form-checkbox" value="Web" onchange="applyProjectFilter()"> <span>Web Dev</span></label>
                </div>
                <button onclick="toggleFilter('project-filter-modal')" class="mt-6 w-full bg-gray-700 py-2 rounded">Close</button>
            </div>
        </div>

        <div id="hackathon-filter-modal" class="fixed inset-0 bg-black bg-opacity-90 hidden-force z-50 flex items-center justify-center">
            <div class="bg-gray-900 p-6 rounded-xl w-80 border border-gray-700">
                <h3 class="text-xl font-bold mb-4">Filter Hackathons</h3>
                <div class="space-y-2">
                    <label class="flex items-center space-x-2"><input type="radio" name="h-mode" value="all" checked onchange="applyHackathonFilter()"> <span>All</span></label>
                    <label class="flex items-center space-x-2"><input type="radio" name="h-mode" value="online" onchange="applyHackathonFilter()"> <span>Online</span></label>
                    <label class="flex items-center space-x-2"><input type="radio" name="h-mode" value="offline" onchange="applyHackathonFilter()"> <span>Offline</span></label>
                </div>
                <button onclick="toggleFilter('hackathon-filter-modal')" class="mt-6 w-full bg-gray-700 py-2 rounded">Close</button>
            </div>
        </div>

        <div id="editor-modal" class="fixed inset-0 z-[60] hidden-force overflow-y-auto">
            <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div class="fixed inset-0 bg-gray-900 bg-opacity-95 transition-opacity" onclick="closeEditor()"></div>
                <div class="inline-block align-bottom bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full">
                    <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                        <h3 class="text-lg leading-6 font-medium text-white mb-4" id="editor-title">Edit Item</h3>
                        <form id="editor-form" class="space-y-4"></form>
                    </div>
                    <div class="bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                        <button type="button" id="save-btn" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">Save</button>
                        <button type="button" onclick="closeEditor()" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-500 shadow-sm px-4 py-2 bg-gray-800 text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="detail-modal" class="fixed inset-0 z-[70] hidden-force overflow-y-auto">
            <div class="flex items-center justify-center min-h-screen px-4 text-center">
                <div class="fixed inset-0 bg-black bg-opacity-95 transition-opacity" onclick="closeDetail()"></div>
                <div class="relative inline-block bg-gray-900 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:max-w-4xl w-full border border-gray-700">
                    <div class="p-6" id="detail-content"></div>
                    <button onclick="closeDetail()" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- INIT & LOCAL STORAGE CONFIG ---
        const DB_KEY = 'swayam_portfolio_db_v2';
        let isAdmin = false;
        let collectionData = {
            education: [], projects: [], hackathons: [], certificates: [], 
            about: { text: "Welcome to my portfolio", photos: [] }
        };

        // --- STARTUP LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            generateStars();
            startAnimation();
            loadData();
        });

        function generateStars() {
            const s = document.getElementById('starfield');
            if(!s) return;
            for(let i=0; i<50; i++) {
                const d = document.createElement('div');
                d.className = 'star';
                d.style.width = (Math.random()*3+1)+'px';
                d.style.height = d.style.width;
                d.style.left = Math.random()*100+'%';
                d.style.top = Math.random()*100+'%';
                d.style.animationDuration = (Math.random()*2+1)+'s';
                s.appendChild(d);
            }
        }

        function startAnimation() {
            const bar = document.getElementById('loading-bar');
            const stat = document.getElementById('status-text');
            const rocket = document.querySelector('.rocket-container');
            const flash = document.getElementById('white-flash');
            const screen = document.getElementById('loading-screen');
            const app = document.getElementById('app');

            let start = Date.now();
            let dur = 5000;

            function frame() {
                let now = Date.now();
                let pct = Math.min(100, ((now - start) / dur) * 100);
                
                if(bar) bar.style.width = pct + '%';
                
                if(stat) {
                    if(pct < 30) stat.innerText = "FUELING...";
                    else if(pct < 60) stat.innerText = "SYSTEM CHECK...";
                    else if(pct < 90) stat.innerText = "IGNITION...";
                    else stat.innerText = "READY...";
                }

                if(pct < 100) {
                    requestAnimationFrame(frame);
                } else {
                    if(stat) stat.innerText = "LIFTOFF!";
                    if(rocket) rocket.classList.add('launching');
                    
                    setTimeout(() => {
                        if(flash) flash.style.opacity = '1';
                        setTimeout(() => {
                            if(screen) screen.style.display = 'none';
                            if(app) app.classList.remove('hidden-force');
                            if(flash) flash.style.opacity = '0';
                            setTimeout(() => { if(flash) flash.style.display = 'none'; }, 1000);
                        }, 2000);
                    }, 1200);
                }
            }
            requestAnimationFrame(frame);
        }

        // --- DATA LOGIC (LOCAL STORAGE) ---
        function loadData() {
            const raw = localStorage.getItem(DB_KEY);
            if(raw) {
                try { collectionData = JSON.parse(raw); } catch(e){ console.error(e); }
            }
            renderAll();
        }

        function saveData() {
            localStorage.setItem(DB_KEY, JSON.stringify(collectionData));
            renderAll();
        }

        // --- ROUTING ---
        function router(view) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden-force'));
            document.getElementById('mobile-menu').classList.add('hidden'); // use normal hidden for menu logic usually
            document.getElementById('mobile-menu').style.display = 'none'; // force close

            if(view === 'admin') {
                document.getElementById('admin-view').classList.remove('hidden-force');
                if(isAdmin) {
                    document.getElementById('login-form').classList.add('hidden-force');
                    document.getElementById('admin-dashboard').classList.remove('hidden-force');
                    renderAdminList('education');
                } else {
                    document.getElementById('login-form').classList.remove('hidden-force');
                    document.getElementById('admin-dashboard').classList.add('hidden-force');
                }
            } else {
                const el = document.getElementById(view+'-view');
                if(el) el.classList.remove('hidden-force');
            }
            window.scrollTo(0,0);
        }

        function toggleMobileMenu() {
            const m = document.getElementById('mobile-menu');
            if(m.style.display === 'block') m.style.display = 'none';
            else m.style.display = 'block';
        }

        // --- AUTH ---
        function adminLogin() {
            const u = document.getElementById('admin-user').value;
            const p = document.getElementById('admin-pass').value;
            if(u === 'admin' && p === 'admin123') {
                isAdmin = true;
                document.getElementById('nav-admin-btn').classList.add('text-green-400');
                router('admin');
            } else { alert('Invalid Credentials'); }
        }

        function adminLogout() {
            isAdmin = false;
            document.getElementById('nav-admin-btn').classList.remove('text-green-400');
            router('home');
        }

        // --- RENDER ---
        function renderAll() {
            ['education', 'projects', 'hackathons', 'certificates'].forEach(renderList);
            
            // About
            const abt = collectionData.about || {};
            document.getElementById('about-text').innerText = abt.text || "Welcome";
            const pic = (abt.photos && abt.photos.length) ? abt.photos[0] : "https://via.placeholder.com/300";
            document.getElementById('about-img').src = pic;
        }

        function renderList(type) {
            const con = document.getElementById(type+'-list');
            if(!con) return;
            con.innerHTML = '';
            
            let items = collectionData[type] || [];
            // Simple filters could go here
            if(type === 'projects') items = filterProjects(items);
            if(type === 'hackathons') items = filterHackathons(items);

            if(items.length === 0) {
                con.innerHTML = '<div class="col-span-full text-center text-gray-500">No items added yet.</div>';
                return;
            }

            items.forEach(item => {
                let html = '';
                const img = (item.photos && item.photos.length) ? item.photos[0] : null;
                const imgDiv = img ? `<div class="h-48 w-full mb-4 rounded-lg overflow-hidden"><img src="${img}" class="w-full h-full object-cover"></div>` : '';

                if(type === 'education') {
                    html = `<div class="glass p-6 rounded-xl hover:bg-gray-800 transition cursor-pointer" onclick="showDetails('education','${item.id}')">
                        ${imgDiv}
                        <h3 class="text-xl font-bold text-indigo-400">${item.degree}</h3>
                        <p class="text-lg font-semibold">${item.school}</p>
                        <p class="text-gray-400 text-sm">${item.year}</p>
                    </div>`;
                } else if(type === 'projects') {
                    html = `<div class="glass p-6 rounded-xl hover:-translate-y-1 transition">
                        ${imgDiv}
                        <h3 class="text-xl font-bold text-white">${item.title}</h3>
                        <div class="flex gap-2 my-2">${(item.tags||'').split(',').map(t=>`<span class="text-xs bg-indigo-900 px-2 py-1 rounded">${t}</span>`).join('')}</div>
                        <button onclick="showDetails('projects','${item.id}')" class="text-indigo-400 text-sm font-bold mt-2">View Details</button>
                    </div>`;
                } else if(type === 'hackathons') {
                    html = `<div class="glass p-6 rounded-xl">
                        ${imgDiv}
                        <div class="flex justify-between"><h3 class="text-xl font-bold">${item.name}</h3><span class="text-xs border border-gray-600 px-2 rounded">${item.mode}</span></div>
                        <button onclick="showDetails('hackathons','${item.id}')" class="text-indigo-400 text-sm font-bold mt-2">View Details</button>
                    </div>`;
                } else if(type === 'certificates') {
                    html = `<div class="glass p-4 rounded-xl">
                        <div class="h-32 bg-gray-800 rounded mb-3 overflow-hidden">${imgDiv}</div>
                        <h4 class="font-bold truncate">${item.title}</h4>
                        <p class="text-xs text-gray-400">${item.issuer}</p>
                    </div>`;
                }
                con.innerHTML += html;
            });
        }

        // --- ADMIN LIST ---
        function renderAdminList(type) {
            const area = document.getElementById('admin-list-area');
            area.innerHTML = `
                <button onclick="openEditor('${type}')" class="w-full p-3 bg-green-700 hover:bg-green-600 rounded flex justify-between items-center font-bold mb-4">
                    <span>Add New ${type}</span> <i class="fas fa-plus"></i>
                </button>
            `;
            
            (collectionData[type] || []).forEach(item => {
                let label = item.school || item.title || item.name || 'Item';
                const div = document.createElement('div');
                div.className = "bg-gray-800 p-4 rounded flex justify-between items-center border border-gray-700 mb-2";
                div.innerHTML = `
                    <span class="truncate font-medium pr-4">${label}</span>
                    <div class="flex space-x-2">
                        <button onclick="openEditor('${type}','${item.id}')" class="p-2 bg-blue-600 rounded text-white"><i class="fas fa-edit"></i></button>
                        <button onclick="deleteItem('${type}','${item.id}')" class="p-2 bg-red-600 rounded text-white"><i class="fas fa-trash"></i></button>
                    </div>`;
                area.appendChild(div);
            });
        }

        // --- EDITOR ---
        let currentType = null, currentId = null, tempPhotos = [];

        function openEditor(type, id = null) {
            currentType = type; currentId = id; tempPhotos = [];
            const modal = document.getElementById('editor-modal');
            const form = document.getElementById('editor-form');
            document.getElementById('editor-title').innerText = id ? `Edit ${type}` : `Add New ${type}`;
            form.innerHTML = '';

            let d = {};
            if(id && type!=='about') d = collectionData[type].find(i=>i.id===id) || {};
            else if(type==='about') d = collectionData.about || {};
            
            if(d.photos) tempPhotos = [...d.photos];

            // Fields
            let fields = '';
            if(type==='education') {
                fields = `<input id="e-school" value="${d.school||''}" placeholder="School" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <input id="e-degree" value="${d.degree||''}" placeholder="Degree" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <input id="e-year" value="${d.year||''}" placeholder="Year" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <textarea id="e-desc" placeholder="Description" class="w-full bg-gray-700 p-2 rounded h-24">${d.description||''}</textarea>`;
            } else if(type==='projects') {
                fields = `<input id="p-title" value="${d.title||''}" placeholder="Title" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <textarea id="p-desc" placeholder="Description" class="w-full bg-gray-700 p-2 rounded h-24">${d.description||''}</textarea>
                          <input id="p-tags" value="${d.tags||''}" placeholder="Tags" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <input id="p-link" value="${d.link||''}" placeholder="Link" class="w-full bg-gray-700 p-2 rounded mb-2">`;
            } else if(type==='hackathons') {
                fields = `<input id="h-name" value="${d.name||''}" placeholder="Name" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <textarea id="h-desc" placeholder="Description" class="w-full bg-gray-700 p-2 rounded h-24">${d.description||''}</textarea>
                          <input id="h-mode" value="${d.mode||'offline'}" placeholder="Mode (online/offline)" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <input id="h-loc" value="${d.location||''}" placeholder="Location" class="w-full bg-gray-700 p-2 rounded mb-2">`;
            } else if(type==='certificates') {
                fields = `<input id="c-title" value="${d.title||''}" placeholder="Title" class="w-full bg-gray-700 p-2 rounded mb-2">
                          <input id="c-issuer" value="${d.issuer||''}" placeholder="Issuer" class="w-full bg-gray-700 p-2 rounded mb-2">`;
            } else if(type==='about') {
                fields = `<textarea id="a-text" class="w-full bg-gray-700 p-2 h-48">${d.text||''}</textarea>`;
            }

            form.innerHTML = fields + `
                <div class="mt-4 border-t border-gray-700 pt-4">
                    <label>Photos (Max 15)</label>
                    <input type="file" multiple accept="image/*" onchange="handleFiles(this)" class="w-full bg-gray-700 p-2 mt-1">
                    <div id="preview-area" class="flex gap-2 mt-2 flex-wrap"></div>
                </div>
            `;
            
            updatePreview();
            document.getElementById('save-btn').onclick = saveItem;
            modal.classList.remove('hidden-force');
        }

        function closeEditor() { document.getElementById('editor-modal').classList.add('hidden-force'); }

        function handleFiles(input) {
            Array.from(input.files).forEach(f => {
                const r = new FileReader();
                r.onload = e => { tempPhotos.push(e.target.result); updatePreview(); };
                r.readAsDataURL(f);
            });
        }

        function updatePreview() {
            const div = document.getElementById('preview-area');
            div.innerHTML = tempPhotos.map((p,i) => `<img src="${p}" class="w-16 h-16 object-cover rounded cursor-pointer border-red-500 border hover:opacity-50" onclick="tempPhotos.splice(${i},1);updatePreview()">`).join('');
        }

        function saveItem() {
            let newItem = { id: currentId || Date.now().toString(), photos: tempPhotos };
            
            if(currentType === 'education') {
                newItem.school = document.getElementById('e-school').value;
                newItem.degree = document.getElementById('e-degree').value;
                newItem.year = document.getElementById('e-year').value;
                newItem.description = document.getElementById('e-desc').value;
            } else if(currentType === 'projects') {
                newItem.title = document.getElementById('p-title').value;
                newItem.description = document.getElementById('p-desc').value;
                newItem.tags = document.getElementById('p-tags').value;
                newItem.link = document.getElementById('p-link').value;
            } else if(currentType === 'hackathons') {
                newItem.name = document.getElementById('h-name').value;
                newItem.description = document.getElementById('h-desc').value;
                newItem.mode = document.getElementById('h-mode').value;
                newItem.location = document.getElementById('h-loc').value;
            } else if(currentType === 'certificates') {
                newItem.title = document.getElementById('c-title').value;
                newItem.issuer = document.getElementById('c-issuer').value;
            } else if(currentType === 'about') {
                collectionData.about = { text: document.getElementById('a-text').value, photos: tempPhotos };
                saveData(); closeEditor(); return;
            }

            if(currentId) {
                const idx = collectionData[currentType].findIndex(x => x.id == currentId);
                if(idx > -1) collectionData[currentType][idx] = newItem;
            } else {
                collectionData[currentType].push(newItem);
            }
            
            saveData();
            closeEditor();
            renderAdminList(currentType);
        }

        function deleteItem(type, id) {
            if(confirm("Delete?")) {
                collectionData[type] = collectionData[type].filter(x => x.id != id);
                saveData();
                renderAdminList(type);
            }
        }

        // --- DETAILS & FILTERS ---
        function showDetails(type, id) {
            const item = collectionData[type].find(x => x.id == id);
            if(!item) return;
            
            let imgs = item.photos || [];
            let imgHtml = '';
            if(imgs.length > 0) {
                imgHtml = `<div class="h-64 bg-black flex justify-center items-center rounded mb-4"><img src="${imgs[0]}" class="max-h-full max-w-full"></div>`;
                // Add simple arrows if > 1 (omitted for brevity, can add)
            }

            let content = '';
            if(type === 'education') content = `<h2>${item.school}</h2><p>${item.degree}</p><p>${item.description}</p>`;
            else if(type === 'projects') content = `<h2>${item.title}</h2><p>${item.description}</p><a href="${item.link}" class="text-blue-400">Link</a>`;
            else if(type === 'hackathons') content = `<h2>${item.name}</h2><p>${item.description}</p>`;

            document.getElementById('detail-content').innerHTML = imgHtml + '<div class="prose prose-invert">' + content + '</div>';
            document.getElementById('detail-modal').classList.remove('hidden-force');
        }

        function closeDetail() { document.getElementById('detail-modal').classList.add('hidden-force'); }
        function toggleFilter(id) { document.getElementById(id).classList.toggle('hidden-force'); }
        
        function filterProjects(items) {
            const q = document.getElementById('search-projects').value.toLowerCase();
            return items.filter(x => (x.title||'').toLowerCase().includes(q));
        }
        function filterHackathons(items) {
            const q = document.getElementById('search-hackathons').value.toLowerCase();
            return items.filter(x => (x.name||'').toLowerCase().includes(q));
        }
        function applyProjectFilter() { renderList('projects'); }
        function applyHackathonFilter() { renderList('hackathons'); }
        function downloadResume() { 
            const doc = new window.jspdf.jsPDF();
            doc.text("Swayam Khangaonkar - Resume", 10, 10);
            doc.save("resume.pdf");
        }
    </script>
</body>
</html>
